<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>독서 챌린지</title>
        <style>
            .container {
                border: 2px double #222;
                border-radius: 50%;
                width: 300px;
                height: 300px;
                text-align: center;
                margin: 50px auto;
                background-color: #d8f0fc;
            }
            h1 {
                margin-top: 80px;
            }
            .accent {
                color: red;
                font-weight: bold;
                font-size: 1.8em;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>책 읽기</h1>
            <p><span class="accent" id="result">18</span>일 연속으로 <br> 책 읽기를 달성했군요.</p>
            <p>축하합니다!</p>
        </div>
        <div class="container">
            <h1>종강 D-day</h1>
            <p>종강까지 <span class="accent" id="lastDay">0</span>일 남았습니다. <br> 화이팅하세요.</p>
            <p>열심히 하세요!!</p>
        </div>
        <div class="container">
            <h1>날짜 계산기</h1>
            <p>시작일로부터 <span class="accent" id="remainDay">0</span>일 후에 종료됩니다. <br> 화이팅하세요.</p>
            <p>열심히 하세요!!</p>
        </div>
        시작날짜 : <input type="date" name="startTime" id=""> ~
        종료날짜 : <input type="date" name="endTime" id="">
        <button id="showResult">계산</button>
        <script>
            var now = new Date();
            var firstDay = new Date("2023-05-15");
            var dDay = new Date("2023-10-26");

            var remainTime = Math.round((dDay - now)/3600/24000);
            var passedTime = Math.round((now - firstDay)/3600/24000);
            document.querySelector("#result").innerText = passedTime;
            document.querySelector("#lastDay").innerText = remainTime;

            var dateObj = {};
            // 시작날짜 선택 후 dateObj에 값 추가하기
            document.querySelector("[name=startTime]").addEventListener("change", function() {
                dateObj.startTime = this.value;
                console.log(dateObj);
                
            })
            // 종료날짜 선택 후 dateObj에 값 추가하기
            document.querySelector("[name=endTime]").addEventListener("change", function() {
                dateObj.endTime = this.value;
                console.log(dateObj);
            })
            // 결과를 화면에 출력
            document.querySelector("#showResult").addEventListener("click", function() {
                // 시작/종료 날짜 가져와서 date 객체로 만듬
                var now = new Date(dateObj.startTime);
                var end = new Date(dateObj.endTime);
                // 종료 - 시작 날짜 후 밀리초를 일 수로 변경(시간 단위 일시 반올림 추가하기)
                var result = (end - now)/3600/24000;
                document.querySelector("#remainDay").innerText = result;
                console.log(result+1);
            })
            
        </script>
    </body>
</html>